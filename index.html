<!doctype html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Vulnerability Heatmap</title>
    <link rel="icon" href="data:;base64,iVBORw0KGgo=" />

    <link
      href="https://cdnjs.cloudflare.com/ajax/libs/materialize/1.0.0/css/materialize.min.css"
      rel="stylesheet"
    />

    <link href="/index.css" rel="stylesheet" />
  </head>
  <body>
    <dialog>
      <button autofocus="">X</button>
      <div class="dialog-content"></div>
    </dialog>

    <nav>
      <div class="nav-wrapper1">
        <img
          style="max-width: 100px; margin-left: 8px"
          src="https://www.secure-io.de/wp-content/uploads/2022/08/secureio_logo.png"
          alt="secureIO GmbH"
          id="logo"
        />

        <span
          style="margin-left: 20px; font-size: 20px; color: #2a2a2a"
          class=""
          >Vulnerability Heatmap ðŸ“Š</span
        >
      </div>
    </nav>

    <div class="container">
      <form id="form" name="form">
        <div class="row">
          <div class="input-field col s12 m6">
            <input
              type="date"
              class="date-field"
              id="start_date"
              name="start_date"
            />
            <label for="start_date" class="active">Start Date</label>
          </div>
          <div class="input-field col s12 m6">
            <input
              type="date"
              class="date-field"
              id="end_date"
              name="end_date"
            />
            <label for="end_date" class="active">End Date</label>
          </div>
        </div>
        <div class="row">
          <div class="input-field col s12 m6">
            <select class="browser-default" id="scenario" name="scenario">
              <option value="avg_history" selected>
                Weighted Average (based on history)
              </option>
              <option value="sla">SLA Violations</option>
            </select>
            <label for="scenario" class="active"
              >Select scenario (View)
              <a
                href="#"
                id="scenarioHelp"
                class="tooltipped"
                data-tooltip="Scenario Help"
                >Show help</a
              >
            </label>
          </div>
          <div class="input-field col s12 m6">
            <label for="scanner" class="active">Scanner</label>
            <select class="browser-default" id="scanner" name="scanner">
              <option value="all" selected>All</option>
              <option value="sast">SAST/SCA</option>
              <option value="container">Container</option>
              <option value="tm">Threat Modeling</option>
              <option value="dast">DAST</option>
            </select>
          </div>
        </div>
        <div class="row">
          <div class="input-field col s12 m6">
            <input
              type="text"
              id="search"
              name="search"
              placeholder="U-6 or U-620"
            />
            <label for="search" class="active"
              >Search for application names</label
            >
          </div>
          <div class="input-field col s12 m6">
            <input type="text" id="tag" name="tag" placeholder="" />
            <label for="tag" class="active">Search for application tags</label>
          </div>
        </div>
        <button
          id="submit"
          class="btn primary-color waves-effect waves-light"
          type="submit"
        >
          Show Heatmap
        </button>
      </form>
      <div id="heatmap"></div>
      <div id="lds-roller" class="lds-roller"></div>
    </div>

    <script src="https://cdn.jsdelivr.net/npm/apexcharts"></script>
    <script type="importmap">
      {
        "imports": {
          "moment": "./node_modules/moment/dist/moment.js"
        }
      }
    </script>
    <script>
      const host = window.location.host;
      window.NODE_ENV =
        host.indexOf("github.io") > -1 || host.indexOf("localhost") > -1
          ? "test"
          : "prod";
    </script>
    <script type="module" src="frontend/helpers.js"></script>
    <script type="module" src="frontend/main.js"></script>
  </body>
</html>
